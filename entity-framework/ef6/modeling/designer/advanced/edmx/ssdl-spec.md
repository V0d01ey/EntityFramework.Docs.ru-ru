---
title: Спецификация SSDL - EF6
author: divega
ms.date: 10/23/2016
ms.assetid: a4af4b1a-40f4-48cc-b2e0-fa8f5d9d5419
ms.openlocfilehash: a8b1f844a34c44d283982a52cef3bf80afd7e679
ms.sourcegitcommit: 2b787009fd5be5627f1189ee396e708cd130e07b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2018
ms.locfileid: "45490354"
---
# <a name="ssdl-specification"></a>Спецификация SSDL
SSDL представляет собой язык на основе XML, на котором описывается модель хранения в приложениях Entity Framework.

В приложении Entity Framework метаданные модели хранения, загружается из SSDL-файла (написанного на языке SSDL) в экземпляр System.Data.Metadata.Edm.StoreItemCollection и доступен с помощью методов в Класс System.Data.Metadata.Edm.MetadataWorkspace. Платформа Entity Framework метаданные модели хранения используются для преобразования запросов к концептуальной модели для конкретного хранилища команды.

Entity Framework Designer (конструктор EF) хранит сведения о модели хранения в EDMX-файла во время разработки. Во время построения конструктор сущностей использует сведения в EDMX-файла, создаваемого SSDL-файл, необходимый Entity Framework во время выполнения.

Версии языка SSDL различаются по пространствам имен XML.

| Версии языка SSDL | Пространство имен XML                                     |
|:-------------|:--------------------------------------------------|
| SSDL v1      | http://schemas.microsoft.com/ado/2006/04/edm/ssdl |
| SSDL v2      | http://schemas.microsoft.com/ado/2009/02/edm/ssdl |
| SSDL v3      | http://schemas.microsoft.com/ado/2009/11/edm/ssdl |

## <a name="association-element-ssdl"></a>Элемент Association (SSDL)

**Ассоциации** в языке определения схемы хранения (SSDL) указывает столбцы таблицы, которые участвуют в ограничении внешнего ключа в основной базе данных. Два элемента обязательный дочерний указать таблицы в концах ассоциации и кратность в каждом элементе. Необязательный элемент ReferentialConstraint указывает основной и зависимый концы ассоциации, а также участвующих столбцов. Если не **ReferentialConstraint** элемент присутствует, элемент AssociationSetMapping должен использоваться для указания сопоставления столбцов для ассоциации.

**Ассоциации** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один)
-   End (ровно два)
-   ReferentialConstraint (ноль или один)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **ассоциации** элемент.

| Имя атрибута | Необходимо | Значение                                                                            |
|:---------------|:------------|:---------------------------------------------------------------------------------|
| **Name**       | Да         | Имя соответствующего ограничения внешнего ключа в основной базе данных. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **ассоциации** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **ассоциации** элемент, использующий **ReferentialConstraint** для указания столбцов, участвующих в элемент **FK\_CustomerOrders**  ограничение внешнего ключа:

``` xml
 <Association Name="FK_CustomerOrders">
   <End Role="Customers"
        Type="ExampleModel.Store.Customers" Multiplicity="1">
     <OnDelete Action="Cascade" />
   </End>
   <End Role="Orders"
        Type="ExampleModel.Store.Orders" Multiplicity="*" />
   <ReferentialConstraint>
     <Principal Role="Customers">
       <PropertyRef Name="CustomerId" />
     </Principal>
     <Dependent Role="Orders">
       <PropertyRef Name="CustomerId" />
     </Dependent>
   </ReferentialConstraint>
 </Association>
```

## <a name="associationset-element-ssdl"></a>Элемент AssociationSet (SSDL)

**AssociationSet** элемент языка определения схемы хранения (SSDL) представляет ограничение внешнего ключа между двумя таблицами в основной базе данных. Столбцы таблицы, которые участвуют в ограничении внешнего ключа задаются в элементе ассоциации. **Ассоциации** элемент, соответствующий заданной **AssociationSet** элемент указан в **ассоциации** атрибут **AssociationSet**  элемент.

Наборы ассоциаций SSDL сопоставляются наборы ассоциаций CSDL AssociationSetMapping-элемент. Тем не менее, если ассоциация CSDL для сопоставления на основе заданного CSDL определяется с помощью элемента ReferentialConstraint, то соответствующий **AssociationSetMapping** необходим элемент. В этом случае если **AssociationSetMapping** элемент присутствует, то определяемые им сопоставления будут переопределены **ReferentialConstraint** элемент.

**AssociationSet** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один)
-   End (ноль или два)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **AssociationSet** элемент.

| Имя атрибута  | Необходимо | Значение                                                                                                |
|:----------------|:------------|:-----------------------------------------------------------------------------------------------------|
| **Name**        | Да         | Имя ограничения внешнего ключа, представленное набором ассоциаций.                          |
| **Ассоциации** | Да         | Имя ассоциации, определяющее столбцы, которые участвуют в ограничении внешнего ключа. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **AssociationSet** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **AssociationSet** , представляющего `FK_CustomerOrders` ограничения внешнего ключа в основной базе данных:

``` xml
 <AssociationSet Name="FK_CustomerOrders"
                 Association="ExampleModel.Store.FK_CustomerOrders">
   <End Role="Customers" EntitySet="Customers" />
   <End Role="Orders" EntitySet="Orders" />
 </AssociationSet>
```

## <a name="collectiontype-element-ssdl"></a>Элемент CollectionType (язык SSDL)

**CollectionType** элемент в языке определения схемы хранения (SSDL) указывает, что тип возвращаемого значения функции является коллекцией. **CollectionType** элемент является дочерним элемента ReturnType. Тип коллекции задается с помощью дочернего элемента RowType:

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **CollectionType** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показано функцию, которая использует **CollectionType** элемента, чтобы указать, что функция возвращает коллекцию строк.

``` xml
   <Function Name="GetProducts" IsComposable="true" Schema="dbo">
     <ReturnType>
       <CollectionType>
         <RowType>
           <Property Name="ProductID" Type="int" Nullable="false" />
           <Property Name="CategoryID" Type="bigint" Nullable="false" />
           <Property Name="ProductName" Type="nvarchar" MaxLength="40" Nullable="false" />
           <Property Name="UnitPrice" Type="money" />
           <Property Name="Discontinued" Type="bit" />
         </RowType>
       </CollectionType>
     </ReturnType>
   </Function>
```

## <a name="commandtext-element-ssdl"></a>Элемент CommandText (SSDL)

**CommandText** элемент в языке определения схемы хранения (SSDL) — это дочерний элемент элемента функция, которая позволяет определить инструкцию SQL, выполняемую в базе данных. **CommandText** элемент позволяет добавить функциональные возможности, схожие с хранимой процедурой в базе данных, но определять **CommandText** элемент в модели хранения.

**CommandText** элемент не может иметь дочерние элементы. Тело **CommandText** элемент должен быть допустимой инструкцией SQL в основной базе данных.

Нет атрибутов, применимых к **CommandText** элемент.

### <a name="example"></a>Пример

В следующем примере показан **функция** элемент с дочерним **CommandText** элемент. Предоставлять **UpdateProductInOrder** функционировать как метод класса ObjectContext, импортируйте ее в концептуальной модели.  

``` xml
 <Function Name="UpdateProductInOrder" IsComposable="false">
   <CommandText>
     UPDATE Orders
     SET ProductId = @productId
     WHERE OrderId = @orderId;
   </CommandText>
   <Parameter Name="productId"
              Mode="In"
              Type="int"/>
   <Parameter Name="orderId"
              Mode="In"
              Type="int"/>
 </Function>
```

## <a name="definingquery-element-ssdl"></a>Элемент DefiningQuery (SSDL)

**DefiningQuery** элемент в языке определения схемы хранения (SSDL) позволяет выполнять инструкции SQL непосредственно в основной базе данных. **DefiningQuery** элемент обычно используется как представление базы данных, но оно определено в модели хранения вместо базы данных. Представление, определенное в **DefiningQuery** элемент можно сопоставить с типом сущности в концептуальной моделью с применением элемент EntitySetMapping. Такие сопоставления предназначены только для чтения.  

В следующем синтаксисе SSDL показана объявление **EntitySet** следуют **DefiningQuery** элемент, содержащий запрос, используемый для получения представления.

``` xml
 <Schema>
     <EntitySet Name="Tables" EntityType="Self.STable">
         <DefiningQuery>
           SELECT  TABLE_CATALOG,
                   'test' as TABLE_SCHEMA,
                   TABLE_NAME
           FROM    INFORMATION_SCHEMA.TABLES
         </DefiningQuery>
     </EntitySet>
 </Schema>
```

Можно использовать хранимые процедуры в Entity Framework для реализации сценариев чтения и записи применительно к представлениям. Представление источника данных или представление Entity SQL можно использовать в качестве базовой таблицы для выборки данных и обработки изменений с помощью хранимых процедур.

Можно использовать **DefiningQuery** элемента к целевому объекту Microsoft SQL Server Compact 3.5. Хотя SQL Server Compact 3.5 не поддерживает хранимые процедуры, вы можете реализовать аналогичные функциональные возможности с **DefiningQuery** элемент. Этот элемент также может быть полезен при создании хранимых процедур для преодоления несоответствий между типами данных, используемых в языке программирования, и типами данных источника данных. Можно написать **DefiningQuery** , принимает определенный набор параметров, а затем вызывает хранимую процедуру с разными наборами параметров, например, хранимую процедуру, которая удаляет данные.

## <a name="dependent-element-ssdl"></a>Элемент Dependent (SSDL)

**Зависимых** элемент в языке определения схемы хранения (SSDL) является дочерним элементом для элемента ReferentialConstraint, который определяет зависимый конец ограничения внешнего ключа (также называемого справочным ограничением). **Зависимых** элемент указывает столбец (или столбцы) в таблице, которые ссылаются на первичный ключевой столбец (или столбцы). **PropertyRef** элементы определяют, какие столбцы существуют ссылки. Основной элемент определяет столбцы первичного ключа, на которые ссылаются столбцы, которые указаны в **зависимых** элемент.

**Зависимых** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   PropertyRef (один или несколько)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **зависимых** элемент.

| Имя атрибута | Необходимо | Значение                                                                                                                                                       |
|:---------------|:------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Роль**       | Да         | То же значение **роли** атрибута (если используется) соответствующего элемента End; в противном случае имя таблицы, содержащей ссылающийся столбец. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **зависимых** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для CSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показано элемента ассоциации, использующего **ReferentialConstraint** для указания столбцов, участвующих в элемент **FK\_CustomerOrders** внешнего ключа ограничение. **Зависимых** элемент указывает **CustomerId** столбец **порядок** таблицы как зависимый конец ограничения.

``` xml
 <Association Name="FK_CustomerOrders">
   <End Role="Customers"
        Type="ExampleModel.Store.Customers" Multiplicity="1">
     <OnDelete Action="Cascade" />
   </End>
   <End Role="Orders"
        Type="ExampleModel.Store.Orders" Multiplicity="*" />
   <ReferentialConstraint>
     <Principal Role="Customers">
       <PropertyRef Name="CustomerId" />
     </Principal>
     <Dependent Role="Orders">
       <PropertyRef Name="CustomerId" />
     </Dependent>
   </ReferentialConstraint>
 </Association>
```

## <a name="documentation-element-ssdl"></a>Элемент Documentation (SSDL)

**Документации** можно использовать для предоставления сведений об объекте, который определен в родительском элементе элемента языка определения схемы хранения (SSDL).

**Документации** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   **Сводка**: краткое описание родительского элемента. (ноль или один элемент)
-   **LongDescription**: подробное описание родительского элемента. (ноль или один элемент)

### <a name="applicable-attributes"></a>Применимые атрибуты

Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **документации** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для CSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **документации** элемент как дочерний элемент элемента EntityType.

``` xml
 <EntityType Name="Customers">
   <Documentation>
     <Summary>Summary here.</Summary>
     <LongDescription>Long description here.</LongDescription>
   </Documentation>
   <Key>
     <PropertyRef Name="CustomerId" />
   </Key>
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
 </EntityType>
```

## <a name="end-element-ssdl"></a>Элемент End (SSDL)

**Окончания** в языке определения схемы хранения (SSDL) определяет таблицу и число строк на одном конце ограничения внешнего ключа в основной базе данных. **Окончания** элемент может быть потомком элемента Association или элемент AssociationSet. В каждом из этих случаев дочерние элементы и применимые атрибуты будут различными.

### <a name="end-element-as-a-child-of-the-association-element"></a>Элемент End как дочерний по отношению к элементу Association

**Окончания** элемент (как дочерний **ассоциации** элемент) задает таблицу и число строк в конце ограничения внешнего ключа в **типа** и **Кратность** атрибутами. Элементы ограничения внешнего ключа определяются как часть ассоциации SSDL. Ассоциация SSDL должна содержать ровно два элемента.

**Окончания** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один элемент)
-   OnDelete (ноль или один элемент)
-   Элементы annotation (ноль или более элементов)

#### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **окончания** элементу, если он является дочерним элементом **ассоциации** элемент.

| Имя атрибута   | Необходимо | Значение                                                                                                                                                                                                                                                                                                                                                                                      |
|:-----------------|:------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Type**         | Да         | Полное имя набора сущностей языка SSDL, в конце ограничения внешнего ключа.                                                                                                                                                                                                                                                                                          |
| **Роль**         | Нет          | Значение **роли** атрибут в основном или зависимые от элемента соответствующий элемент ReferentialConstraint (если используется).                                                                                                                                                                                                                                             |
| **Кратность** | Да         | **1**, **от 0 до 1**, или **\*** в зависимости от количества строк, которые могут быть в конце ограничения внешнего ключа. <br/> **1** указывает на конце ограничения внешнего ключа существует ровно одна строка. <br/> **от 0 до 1** указывает, что существует более одной строки в конце ограничения внешнего ключа. <br/> **\*** Указывает, что на конечной точке ограничения внешнего ключа существует ноль, один или более строк. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **окончания** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для CSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

#### <a name="example"></a>Пример

В следующем примере показан **ассоциации** элемент, определяющий **FK\_CustomerOrders** ограничение внешнего ключа. **Кратность** значения, указанные на каждом **окончания** указывают, что многие строки в **заказы** таблицы могут быть связаны со строкой в **клиентов**  таблицы, но только одна строка в **клиентов** таблицы могут быть связаны со строкой в **заказы** таблицы. Кроме того **OnDelete** элемент указывает, что все строки в **заказы** таблицу, которая ссылается на отдельную строку в **клиентов** таблица будет удалена, если в строке **клиентов** таблица удаляется.

``` xml
 <Association Name="FK_CustomerOrders">
   <End Role="Customers"
        Type="ExampleModel.Store.Customers" Multiplicity="1">
     <OnDelete Action="Cascade" />
   </End>
   <End Role="Orders"
        Type="ExampleModel.Store.Orders" Multiplicity="*" />
   <ReferentialConstraint>
     <Principal Role="Customers">
       <PropertyRef Name="CustomerId" />
     </Principal>
     <Dependent Role="Orders">
       <PropertyRef Name="CustomerId" />
     </Dependent>
   </ReferentialConstraint>
 </Association>
```

### <a name="end-element-as-a-child-of-the-associationset-element"></a>Элемент End как дочерний по отношению к элементу AssociationSet

**Окончания** элемент (как дочерний **AssociationSet** элемент) задает таблицу на одном конце ограничения внешнего ключа в основной базе данных.

**Окончания** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один)
-   Элементы annotation (ноль и более)

#### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **окончания** элементу, если он является дочерним элементом **AssociationSet** элемент.

| Имя атрибута | Необходимо | Значение                                                                                                                  |
|:---------------|:------------|:-----------------------------------------------------------------------------------------------------------------------|
| **Набор EntitySet**  | Да         | Имя набора сущностей языка SSDL, находится на конце ограничения внешнего ключа.                                      |
| **Роль**       | Нет          | Значение одного из **роли** атрибутами, заданными на одном **окончания** для соответствующего элемента ассоциации. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **окончания** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для CSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

#### <a name="example"></a>Пример

В следующем примере показан **EntityContainer** элемент с **AssociationSet** элемент с двумя **окончания** элементов:

``` xml
 <EntityContainer Name="ExampleModelStoreContainer">
   <EntitySet Name="Customers"
              EntityType="ExampleModel.Store.Customers"
              Schema="dbo" />
   <EntitySet Name="Orders"
              EntityType="ExampleModel.Store.Orders"
              Schema="dbo" />
   <AssociationSet Name="FK_CustomerOrders"
                   Association="ExampleModel.Store.FK_CustomerOrders">
     <End Role="Customers" EntitySet="Customers" />
     <End Role="Orders" EntitySet="Orders" />
   </AssociationSet>
 </EntityContainer>
```

## <a name="entitycontainer-element-ssdl"></a>Элемент EntityContainer (SSDL)

**EntityContainer** языка определения схемы хранения (SSDL) описывает структуру базового источника данных в приложении Entity Framework: наборы сущностей SSDL (определенные в элементах EntitySet) представляют таблицы в базы данных, типы сущностей SSDL (определенные в элементах EntityType) представляют строки в таблице, а наборы ассоциаций (определенные в элементах AssociationSet) представляют ограничения внешнего ключа в базе данных. Контейнер сущностей концептуальной модели посредством элемента EntityContainerMapping сопоставляет контейнер сущностей модели хранения.

**EntityContainer** элемент может иметь ноль или один элемент документации. Если **документации** элемент присутствует, он должен предшествовать всех остальных дочерних элементов.

**EntityContainer** элемент может иметь ноль или более следующих дочерних элементов (в указанном порядке):

-   EntitySet
-   AssociationSet
-   Элементы Annotation

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **EntityContainer** элемент.

| Имя атрибута | Необходимо | Значение                                                                   |
|:---------------|:------------|:------------------------------------------------------------------------|
| **Name**       | Да         | Имя контейнера сущностей. Это имя не может содержать точек (.). |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **EntityContainer** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **EntityContainer** элемент, определяющий два набора сущностей и один набор ассоциаций. Обратите внимание, что тип сущности и имена типов ассоциаций определяются именем пространства имен концептуальной модели.

``` xml
 <EntityContainer Name="ExampleModelStoreContainer">
   <EntitySet Name="Customers"
              EntityType="ExampleModel.Store.Customers"
              Schema="dbo" />
   <EntitySet Name="Orders"
              EntityType="ExampleModel.Store.Orders"
              Schema="dbo" />
   <AssociationSet Name="FK_CustomerOrders"
                   Association="ExampleModel.Store.FK_CustomerOrders">
     <End Role="Customers" EntitySet="Customers" />
     <End Role="Orders" EntitySet="Orders" />
   </AssociationSet>
 </EntityContainer>
```

## <a name="entityset-element-ssdl"></a>Элемент EntitySet (SSDL)

**EntitySet** элемент языка определения схемы хранения (SSDL) представляет таблицу или представление в основной базе данных. Элемент EntityType языка SSDL представляет строку в таблице или представлении. **EntityType** атрибут **EntitySet** элемент указывает определенный тип сущности языка SSDL, представляющий строки в наборе сущностей языка SSDL. Сопоставление набора сущностей языка CSDL и SSDL набор сущностей, указывается в элементе EntitySetMapping.

**EntitySet** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один элемент)
-   DefiningQuery (ноль или один элемент)
-   Элементы Annotation

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **EntitySet** элемент.

> [!NOTE]
> Некоторые атрибуты (не указанные здесь) могут быть дополнены **хранения** псевдоним. Эти атрибуты используются мастером обновления модели при обновлении модели.

| Имя атрибута | Необходимо | Значение                                                                                    |
|:---------------|:------------|:-----------------------------------------------------------------------------------------|
| **Name**       | Да         | Имя набора сущностей.                                                              |
| **EntityType** | Да         | Полное имя типа сущности, для которого набор сущностей содержит экземпляры. |
| **Схема**     | Нет          | Схема базы данных.                                                                     |
| **Таблица**      | Нет          | Таблица базы данных.                                                                      |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **EntitySet** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **EntityContainer** элемент, имеющий два **EntitySet** элементов и один **AssociationSet** элемент:

``` xml
 <EntityContainer Name="ExampleModelStoreContainer">
   <EntitySet Name="Customers"
              EntityType="ExampleModel.Store.Customers"
              Schema="dbo" />
   <EntitySet Name="Orders"
              EntityType="ExampleModel.Store.Orders"
              Schema="dbo" />
   <AssociationSet Name="FK_CustomerOrders"
                   Association="ExampleModel.Store.FK_CustomerOrders">
     <End Role="Customers" EntitySet="Customers" />
     <End Role="Orders" EntitySet="Orders" />
   </AssociationSet>
 </EntityContainer>
```

## <a name="entitytype-element-ssdl"></a>Элемент EntityType (SSDL)

**EntityType** в языке определения схемы хранения (SSDL) представляет строку в таблицу или представление базы данных. Элемент EntitySet на языке SSDL представляет таблицу или представление, в котором появляются строки. **EntityType** атрибут **EntitySet** элемент указывает определенный тип сущности языка SSDL, представляющий строки в наборе сущностей языка SSDL. Сопоставление между типом сущности SSDL и типом сущности CSDL указывается в элемент EntityTypeMapping.

**EntityType** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один элемент)
-   Ключ (ноль или один элемент)
-   Элементы Annotation

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **EntityType** элемент.

| Имя атрибута | Необходимо | Значение                                                                                                                                                                  |
|:---------------|:------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Name**       | Да         | Имя типа сущности. Данное значение обычно совпадает с именем таблицы, в которой тип сущности представляет строку. Это значение не может содержать точек (.). |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **EntityType** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **EntityType** элемент с двумя свойствами:

``` xml
 <EntityType Name="Customers">
   <Documentation>
     <Summary>Summary here.</Summary>
     <LongDescription>Long description here.</LongDescription>
   </Documentation>
   <Key>
     <PropertyRef Name="CustomerId" />
   </Key>
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
 </EntityType>
```

## <a name="function-element-ssdl"></a>Элемент Function (SSDL)

**Функция** элемент в языке определения схемы хранения (SSDL) указывает хранимую процедуру, которая существует в базе данных.

**Функция** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один)
-   Параметр (ноль и более)
-   CommandText (ноль или один)
-   ReturnType (ноль и более)
-   Элементы annotation (ноль и более)

Возвращает объект типа для функции должен быть указан с помощью **ReturnType** элемент или **ReturnType** атрибутов (см. ниже), но не оба.

Хранимая процедура, указанная в модели хранения, может быть импортирована в концептуальную модель приложения. Дополнительные сведения см. в разделе [выполнение запросов с помощью хранимых процедур](~/ef6/modeling/designer/stored-procedures/query.md). **Функция** элемент также может использоваться для определения пользовательских функций в модели хранения.  

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **функция** элемент.

> [!NOTE]
> Некоторые атрибуты (не указанные здесь) могут быть дополнены **хранения** псевдоним. Эти атрибуты используются мастером обновления модели при обновлении модели.

| Имя атрибута             | Необходимо | Значение                                                                                                                                                                                                              |
|:---------------------------|:------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Name**                   | Да         | Имя хранимой процедуры.                                                                                                                                                                                  |
| **ReturnType**             | Нет          | Возвращаемый тип хранимой процедуры.                                                                                                                                                                           |
| **Aggregate**              | Нет          | **Значение true,** Если хранимая процедура возвращает статистическое значение; в противном случае **False**.                                                                                                                                  |
| **Встроенные**                | Нет          | **Значение true,** Если функция встроена в<sup>1</sup> функции; в противном случае **False**.                                                                                                                                  |
| **StoreFunctionName**      | Нет          | Имя хранимой процедуры.                                                                                                                                                                                  |
| **NiladicFunction**        | Нет          | **Значение true,** Если функция является функцией без параметров<sup>2</sup> функции; **False** в противном случае.                                                                                                                                   |
| **IsComposable**           | Нет          | **Значение true,** Если функция составляема<sup>3</sup> функции; **False** в противном случае.                                                                                                                                |
| **ParameterTypeSemantics** | Нет          | Перечисление, определяющее семантику типа, которая используется для разрешения перегрузок функций. Перечисление определено в манифесте поставщика для определения функции. Значение по умолчанию — **AllowImplicitConversion**. |
| **Схема**                 | Нет          | Имя схемы, в которой определена хранимая процедура.                                                                                                                                                   |

<sup>1</sup> встроенная функция — это функция, которая определена в базе данных. Сведения о функциях, которые определены в модели хранения см. в разделе элемент CommandText (SSDL).

<sup>2</sup> функция без параметров — функция, которая не принимает параметры и, при вызове скобки не требуются.

<sup>3</sup> две функции допускают композицию, если выходные данные одной функции может быть входных данных другой функции.

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **функция** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **функция** элемент, соответствующий **UpdateOrderQuantity** хранимой процедуры. Хранимая процедура принимает два параметра и не возвращает значение.

``` xml
 <Function Name="UpdateOrderQuantity"
           Aggregate="false"
           BuiltIn="false"
           NiladicFunction="false"
           IsComposable="false"
           ParameterTypeSemantics="AllowImplicitConversion"
           Schema="dbo">
   <Parameter Name="orderId" Type="int" Mode="In" />
   <Parameter Name="newQuantity" Type="int" Mode="In" />
 </Function>
```

## <a name="key-element-ssdl"></a>Элемент Key (SSDL)

**Ключ** элемент языка определения схемы хранения (SSDL) представляет первичный ключ таблицы в основной базе данных. **Ключ** является дочерним элементом элемента EntityType, представляющий строку в таблице. Первичный ключ определен в **ключ** элемент, ссылаясь на один или несколько свойств элементов, которые определены на **EntityType** элемент.

**Ключ** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   PropertyRef (один или несколько)
-   Элементы Annotation

Нет атрибутов, применимых к **ключ** элемент.

### <a name="example"></a>Пример

В следующем примере показан **EntityType** элемент с ключом, который ссылается на одно свойство:

``` xml
 <EntityType Name="Customers">
   <Documentation>
     <Summary>Summary here.</Summary>
     <LongDescription>Long description here.</LongDescription>
   </Documentation>
   <Key>
     <PropertyRef Name="CustomerId" />
   </Key>
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
 </EntityType>
```

## <a name="ondelete-element-ssdl"></a>Элемент OnDelete (SSDL)

**OnDelete** элемент в языке определения схемы хранения (SSDL) отражает поведение базы данных, при удалении строки, которая участвует в ограничении внешнего ключа. Если задано действие **Cascade**, то также будут удалены строки, на которые ссылается на строку, которая удаляется. Если задано действие **None**, то также не удаляются строки, на которые ссылается на строку, которая удаляется. **OnDelete** элемент является дочерним элементом элемента End.

**OnDelete** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **OnDelete** элемент.

| Имя атрибута | Необходимо | Значение                                                                                               |
|:---------------|:------------|:----------------------------------------------------------------------------------------------------|
| **Действие**     | Да         | **CASCADE** или **None**. (Значение **Restricted** является допустимым, но действует так же, как **None**.) |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **OnDelete** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **ассоциации** элемент, определяющий **FK\_CustomerOrders** ограничение внешнего ключа. **OnDelete** элемент указывает, что все строки в **заказы** таблицу, которая ссылается на отдельную строку в **клиентов** таблица будет удалена, если в строке **Клиентов** таблица удаляется.

``` xml
 <Association Name="FK_CustomerOrders">
   <End Role="Customers"
        Type="ExampleModel.Store.Customers" Multiplicity="1">
     <OnDelete Action="Cascade" />
   </End>
   <End Role="Orders"
        Type="ExampleModel.Store.Orders" Multiplicity="*" />
   <ReferentialConstraint>
     <Principal Role="Customers">
       <PropertyRef Name="CustomerId" />
     </Principal>
     <Dependent Role="Orders">
       <PropertyRef Name="CustomerId" />
     </Dependent>
   </ReferentialConstraint>
 </Association>
```

## <a name="parameter-element-ssdl"></a>Элемент Parameter (SSDL)

**Параметр** элемент в языке определения схемы хранения (SSDL) является дочерним элемента Function, задающая параметры для хранимой процедуры в базе данных.

**Параметр** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   Документация (ноль или один)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **параметр** элемент.

| Имя атрибута | Необходимо | Значение                                                                                                                                                                                                                           |
|:---------------|:------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Name**       | Да         | Имя параметра.                                                                                                                                                                                                      |
| **Type**       | Да         | Тип параметра.                                                                                                                                                                                                             |
| **Режим**       | Нет          | **В**, **Out**, или **InOut** в зависимости от того, является ли параметр входной, выходной или параметр ввода вывода.                                                                                                                |
| **MaxLength**  | Нет          | Максимальная длина параметра.                                                                                                                                                                                            |
| **Точность**  | Нет          | Точность параметра.                                                                                                                                                                                                 |
| **Масштаб**      | Нет          | Масштаб параметра.                                                                                                                                                                                                     |
| **SRID**       | Нет          | Идентификатор ссылки Пространственные системы. Допустимо только для параметров пространственных типов. Дополнительные сведения см. в разделе [SRID](http://en.wikipedia.org/wiki/SRID) и [SRID (SQL Server)](https://msdn.microsoft.com/library/bb964707.aspx). |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **параметр** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **функция** элемент, имеющий два **параметр** элементы, которые определяют входные параметры:

``` xml
 <Function Name="UpdateOrderQuantity"
           Aggregate="false"
           BuiltIn="false"
           NiladicFunction="false"
           IsComposable="false"
           ParameterTypeSemantics="AllowImplicitConversion"
           Schema="dbo">
   <Parameter Name="orderId" Type="int" Mode="In" />
   <Parameter Name="newQuantity" Type="int" Mode="In" />
 </Function>
```

## <a name="principal-element-ssdl"></a>Элемент Principal (SSDL)

**Участника** элемент в языке определения схемы хранения (SSDL) является дочерним элементом для элемента ReferentialConstraint, который определяет основной конец ограничения внешнего ключа (также называемого справочным ограничением). **Участника** элемент определяет столбец первичного ключа (или столбцы) в таблице, на который ссылается другой столбец (или столбцы). **PropertyRef** элементы определяют, какие столбцы существуют ссылки. Элемент Dependent указывает столбцы, которые ссылаются на столбцы первичного ключа, которые указаны в **участника** элемент.

**Участника** элемент может иметь следующие дочерние элементы (в указанном порядке):

-   PropertyRef (один или несколько)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **участника** элемент.

| Имя атрибута | Необходимо | Значение                                                                                                                                                      |
|:---------------|:------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Роль**       | Да         | То же значение **роли** атрибута (если используется) соответствующего элемента End; в противном случае имя таблицы, содержащей ссылочный столбец. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **участника** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для CSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показано элемента ассоциации, использующего **ReferentialConstraint** для указания столбцов, участвующих в элемент **FK\_CustomerOrders** внешнего ключа ограничение. **Участника** элемент указывает **CustomerId** столбец **клиента** таблицу в качестве основной конец ограничения.

``` xml
 <Association Name="FK_CustomerOrders">
   <End Role="Customers"
        Type="ExampleModel.Store.Customers" Multiplicity="1">
     <OnDelete Action="Cascade" />
   </End>
   <End Role="Orders"
        Type="ExampleModel.Store.Orders" Multiplicity="*" />
   <ReferentialConstraint>
     <Principal Role="Customers">
       <PropertyRef Name="CustomerId" />
     </Principal>
     <Dependent Role="Orders">
       <PropertyRef Name="CustomerId" />
     </Dependent>
   </ReferentialConstraint>
 </Association>
```

## <a name="property-element-ssdl"></a>Элемент Property (SSDL)

**Свойство** элемент языка определения схемы хранения (SSDL) представляет столбец в таблице в базе данных. **Свойство** элементы являются дочерними для элементов EntityType, представляющих строки в таблице. Каждый **свойство** элемент, определенный на **EntityType** элемент представляет столбец.

Объект **свойство** элемент не может иметь дочерние элементы.

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **свойство** элемент.

| Имя атрибута            | Необходимо | Значение                                                                                                                                                                                                                           |
|:--------------------------|:------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Name**                  | Да         | Имя соответствующего столбца.                                                                                                                                                                                           |
| **Type**                  | Да         | Тип соответствующего столбца.                                                                                                                                                                                           |
| **Допускающий значение NULL**              | Нет          | **Значение true,** (значение по умолчанию) или **False** в зависимости от того, может ли соответствующий столбец иметь значение null.                                                                                                                  |
| **DefaultValue**          | Нет          | Значение по умолчанию соответствующего столбца.                                                                                                                                                                                  |
| **MaxLength**             | Нет          | Максимальная длина соответствующего столбца.                                                                                                                                                                                 |
| **FixedLength**           | Нет          | **Значение true,** или **False** в зависимости от того, будет ли значение соответствующего столбца храниться как строка фиксированной длины.                                                                                                              |
| **Точность**             | Нет          | Точность соответствующего столбца.                                                                                                                                                                                      |
| **Масштаб**                 | Нет          | Масштаб соответствующего столбца.                                                                                                                                                                                          |
| **Юникод**               | Нет          | **Значение true,** или **False** в зависимости от того, будет ли значение соответствующего столбца храниться как строка Юникода.                                                                                                                   |
| **Параметры сортировки**             | Нет          | Строка, указывающая последовательность сортировки, которая должна использоваться в источнике данных.                                                                                                                                                   |
| **SRID**                  | Нет          | Идентификатор ссылки Пространственные системы. Допустимо только для свойства пространственных типов. Дополнительные сведения см. в разделе [SRID](http://en.wikipedia.org/wiki/SRID) и [SRID (SQL Server)](https://msdn.microsoft.com/library/bb964707.aspx). |
| **StoreGeneratedPattern** | Нет          | **Нет**, **удостоверений** (если соответствующее значение столбца является удостоверением, создается в базе данных), или **вычисленные** (если соответствующее значение столбца вычисляется в базе данных). Не допустимо для RowType свойства. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **свойство** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **EntityType** элемент с двумя дочерними **свойство** элементов:

``` xml
 <EntityType Name="Customers">
   <Documentation>
     <Summary>Summary here.</Summary>
     <LongDescription>Long description here.</LongDescription>
   </Documentation>
   <Key>
     <PropertyRef Name="CustomerId" />
   </Key>
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
 </EntityType>
```

## <a name="propertyref-element-ssdl"></a>Элемент PropertyRef (SSDL)

**PropertyRef** элемент в языке определения схемы хранения (SSDL) ссылается на свойство, определенное в элементе EntityType, чтобы указать, что свойство будет выступать в одной из следующих ролей:

-   Быть частью первичного ключа таблицы, **EntityType** представляет. Один или несколько **PropertyRef** элементы можно использовать для определения первичного ключа. Дополнительные сведения см. в разделе ключа элемента.
-   Будет зависимым или основным элементом ссылочного ограничения. Дополнительные сведения см. в разделе элемент ReferentialConstraint.

**PropertyRef** элемент может иметь только следующие дочерние элементы:

-   Документация (ноль или один)
-   Элементы Annotation

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описаны атрибуты, которые могут применяться к **PropertyRef** элемент.

| Имя атрибута | Необходимо | Значение                                |
|:---------------|:------------|:-------------------------------------|
| **Name**       | Да         | Имя свойства, на которое дается ссылка. |

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **PropertyRef** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для CSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **PropertyRef** элемент, используемый для определения первичного ключа путем ссылки на свойства, которое определено на **EntityType** элемент.

``` xml
 <EntityType Name="Customers">
   <Documentation>
     <Summary>Summary here.</Summary>
     <LongDescription>Long description here.</LongDescription>
   </Documentation>
   <Key>
     <PropertyRef Name="CustomerId" />
   </Key>
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
 </EntityType>
```

## <a name="referentialconstraint-element-ssdl"></a>Элемент ReferentialConstraint (SSDL)

**ReferentialConstraint** элемент языка определения схемы хранения (SSDL) представляет ограничение внешнего ключа (также называемый ограничением ссылочной целостности) в основной базе данных. Основной и зависимый концы ограничения определяются участника и зависимые от дочерних элементов, соответственно. Столбцы, участвующие в основной и зависимый концы находятся ссылки на элементы PropertyRef.

**ReferentialConstraint** элемент — необязательный дочерний элемент элемента Association. Если **ReferentialConstraint** элемент не используется для сопоставления ограничения внешнего ключа, который указан в **ассоциации** элемент AssociationSetMapping, элемент должен использоваться для этого.

**ReferentialConstraint** элемент может иметь следующие дочерние элементы:

-   Документация (ноль или один)
-   Участник (ровно один элемент)
-   Зависимые (ровно один элемент)
-   Элементы annotation (ноль и более)

### <a name="applicable-attributes"></a>Применимые атрибуты

Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **ReferentialConstraint** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере показан **ассоциации** элемент, использующий **ReferentialConstraint** для указания столбцов, участвующих в элемент **FK\_CustomerOrders**  ограничение внешнего ключа:

``` xml
 <Association Name="FK_CustomerOrders">
   <End Role="Customers"
        Type="ExampleModel.Store.Customers" Multiplicity="1">
     <OnDelete Action="Cascade" />
   </End>
   <End Role="Orders"
        Type="ExampleModel.Store.Orders" Multiplicity="*" />
   <ReferentialConstraint>
     <Principal Role="Customers">
       <PropertyRef Name="CustomerId" />
     </Principal>
     <Dependent Role="Orders">
       <PropertyRef Name="CustomerId" />
     </Dependent>
   </ReferentialConstraint>
 </Association>
```

## <a name="returntype-element-ssdl"></a>Элемент ReturnType (SSDL)

**ReturnType** элемент в языке определения схемы хранения (SSDL) указывает тип возвращаемого значения для функции, которая определена в **функция** элемент. Тип возвращаемого значения также можно задать с помощью функции **ReturnType** атрибута.

Тип возвращаемого значения функции указан с **тип** атрибут или **ReturnType** элемент.

**ReturnType** элемент может иметь следующие дочерние элементы:

- CollectionType (один)  

> [!NOTE]
> Любое количество атрибутов annotation (настраиваемых атрибутов XML), которые могут быть применены к **ReturnType** элемент. Однако настраиваемые атрибуты не могут принадлежать к любому пространству имен XML, зарезервированному для SSDL. Полные имена любых двух настраиваемых атрибутов не могут совпадать.

### <a name="example"></a>Пример

В следующем примере используется **функция** , возвращающий коллекцию строк.

``` xml
   <Function Name="GetProducts" IsComposable="true" Schema="dbo">
     <ReturnType>
       <CollectionType>
         <RowType>
           <Property Name="ProductID" Type="int" Nullable="false" />
           <Property Name="CategoryID" Type="bigint" Nullable="false" />
           <Property Name="ProductName" Type="nvarchar" MaxLength="40" Nullable="false" />
           <Property Name="UnitPrice" Type="money" />
           <Property Name="Discontinued" Type="bit" />
         </RowType>
       </CollectionType>
     </ReturnType>
   </Function>
```


## <a name="rowtype-element-ssdl"></a>Элемент RowType (язык SSDL)

Объект **RowType** элемент в языке определения схемы хранения (SSDL) определяет безымянную структуру как возврат типа для функции, определенной в хранилище.

Объект **RowType** элемент является дочерним элементом элемента **CollectionType** элемент:

Объект **RowType** элемент может иметь следующие дочерние элементы:

- Свойство (один или несколько)  

### <a name="example"></a>Пример

В следующем примере показано функции хранилища, которая использует **CollectionType** элемента, чтобы указать, что функция возвращает коллекцию строк (как указано в **RowType** элемент).


``` xml
   <Function Name="GetProducts" IsComposable="true" Schema="dbo">
     <ReturnType>
       <CollectionType>
         <RowType>
           <Property Name="ProductID" Type="int" Nullable="false" />
           <Property Name="CategoryID" Type="bigint" Nullable="false" />
           <Property Name="ProductName" Type="nvarchar" MaxLength="40" Nullable="false" />
           <Property Name="UnitPrice" Type="money" />
           <Property Name="Discontinued" Type="bit" />
         </RowType>
       </CollectionType>
     </ReturnType>
   </Function>
```

## <a name="schema-element-ssdl"></a>Элемент Schema (SSDL)

**Схемы** элемент в языке определения схемы хранения (SSDL) является корневым элементом определения модели хранения. Он содержит определения объектов, функций и контейнеров, из которых состоит модель хранения.

**Схемы** элемент может содержать ноль или более следующих дочерних элементов:

-   Ассоциация
-   EntityType
-   EntityContainer
-   Функция

**Схемы** элемент использует **пространства имен** атрибут определяет пространство имен для объектов сущности типа и ассоциации в модели хранения. В пространстве имен не может быть двух объектов с одинаковым именем.

Пространство имен модели хранения отличается от пространства имен XML элемента **схемы** элемент. Пространство имен модели хранения (как определено **пространства имен** атрибут) — это логический контейнер для типов сущностей и типов ассоциаций. Пространство имен XML (обозначается **xmlns** атрибут) из **схемы** элемент является пространство имен по умолчанию для дочерних элементов и атрибутов из **схемы** элемент. Пространства имен XML вида http://schemas.microsoft.com/ado/YYYY/MM/edm/ssdl (где YYYY и MM представляют год и месяц соответственно) зарезервированы для SSDL. Пользовательские элементы и атрибуты не могут присутствовать в пространствах имен такого вида.

### <a name="applicable-attributes"></a>Применимые атрибуты

В следующей таблице описываются атрибуты могут применяться к **схемы** элемент.

| Имя атрибута            | Необходимо | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|:--------------------------|:------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Пространство имен**             | Да         | Пространство имен модели хранения. Значение **пространства имен** атрибут используется, чтобы сформировать полное имя типа. Например если **EntityType** с именем *клиента* находится в пространстве имен ExampleModel.Store, то полное доменное имя **EntityType** является ExampleModel.Store.Customer. <br/> Следующие строки не может использоваться как значение для **пространства имен** атрибут: **системы**, **временных**, или **Edm**. Значение для **пространства имен** атрибут не может быть таким же, как значение для **пространства имен** атрибут в элементе CSDL-схеме. |
| **Alias**                 | Нет          | Идентификатор, используемый в качестве имени пространства имен. Например если **EntityType** с именем *клиента* находится в пространстве имен ExampleModel.Store, а значение **псевдоним** атрибут *StorageModel*, то в качестве полное доменное имя можно указать StorageModel.Customer **EntityType.**                                                                                                                                                                                                                                                                                    |
| **Поставщик**              | Да         | Поставщик данных.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **ProviderManifestToken** | Да         | Маркер, который указывает поставщику, какой манифест должен быть возвращен. Формат маркера не определен. Значения для маркера определяются поставщиком. Сведения о маркерах манифеста поставщика SQL Server см. в разделе SqlClient для Entity Framework.                                                                                                                                                                                                                                                                                                                        |

### <a name="example"></a>Пример

В следующем примере показан **схемы** элемент, содержащий **EntityContainer** элемент, двух **EntityType** элементов и один **ассоциации** элемент.

``` xml
 <Schema Namespace="ExampleModel.Store"
       Alias="Self" Provider="System.Data.SqlClient"
       ProviderManifestToken="2008"
       xmlns="http://schemas.microsoft.com/ado/2009/11/edm/ssdl">
   <EntityContainer Name="ExampleModelStoreContainer">
     <EntitySet Name="Customers"
                EntityType="ExampleModel.Store.Customers"
                Schema="dbo" />
     <EntitySet Name="Orders"
                EntityType="ExampleModel.Store.Orders"
                Schema="dbo" />
     <AssociationSet Name="FK_CustomerOrders"
                     Association="ExampleModel.Store.FK_CustomerOrders">
       <End Role="Customers" EntitySet="Customers" />
       <End Role="Orders" EntitySet="Orders" />
     </AssociationSet>
   </EntityContainer>
   <EntityType Name="Customers">
     <Documentation>
       <Summary>Summary here.</Summary>
       <LongDescription>Long description here.</LongDescription>
     </Documentation>
     <Key>
       <PropertyRef Name="CustomerId" />
     </Key>
     <Property Name="CustomerId" Type="int" Nullable="false" />
     <Property Name="Name" Type="nvarchar(max)" Nullable="false" />
   </EntityType>
   <EntityType Name="Orders" xmlns:c="http://CustomNamespace">
     <Key>
       <PropertyRef Name="OrderId" />
     </Key>
     <Property Name="OrderId" Type="int" Nullable="false"
               c:CustomAttribute="someValue"/>
     <Property Name="ProductId" Type="int" Nullable="false" />
     <Property Name="Quantity" Type="int" Nullable="false" />
     <Property Name="CustomerId" Type="int" Nullable="false" />
     <c:CustomElement>
       Custom data here.
     </c:CustomElement>
   </EntityType>
   <Association Name="FK_CustomerOrders">
     <End Role="Customers"
          Type="ExampleModel.Store.Customers" Multiplicity="1">
       <OnDelete Action="Cascade" />
     </End>
     <End Role="Orders"
          Type="ExampleModel.Store.Orders" Multiplicity="*" />
     <ReferentialConstraint>
       <Principal Role="Customers">
         <PropertyRef Name="CustomerId" />
       </Principal>
       <Dependent Role="Orders">
         <PropertyRef Name="CustomerId" />
       </Dependent>
     </ReferentialConstraint>
   </Association>
   <Function Name="UpdateOrderQuantity"
             Aggregate="false"
             BuiltIn="false"
             NiladicFunction="false"
             IsComposable="false"
             ParameterTypeSemantics="AllowImplicitConversion"
             Schema="dbo">
     <Parameter Name="orderId" Type="int" Mode="In" />
     <Parameter Name="newQuantity" Type="int" Mode="In" />
   </Function>
   <Function Name="UpdateProductInOrder" IsComposable="false">
     <CommandText>
       UPDATE Orders
       SET ProductId = @productId
       WHERE OrderId = @orderId;
     </CommandText>
     <Parameter Name="productId"
                Mode="In"
                Type="int"/>
     <Parameter Name="orderId"
                Mode="In"
                Type="int"/>
   </Function>
 </Schema>
```

## <a name="annotation-attributes"></a>Атрибуты примечаний

Атрибуты annotation в языке SSDL представляют собой настраиваемые атрибуты XML в модели хранения, которые содержат дополнительные метаданные об элементах в модели хранения. Атрибуты annotation должны не только иметь допустимую структуру XML, но и соответствовать следующим ограничениям.

-   Атрибуты annotation не должны находиться ни в одном пространстве имен XML, которое зарезервировано для языка SSDL.
-   Полные имена любых двух атрибутов annotation не должны совпадать.

К данному конкретному элементу языка SSDL может применяться несколько атрибутов annotation. Метаданные, содержащиеся в элементах annotation может осуществляться во время выполнения с помощью классов в пространстве имен System.Data.Metadata.Edm.

### <a name="example"></a>Пример

В следующем примере показано EntityType элемент, имеющий атрибут annotation применяется к **OrderId** свойство. В примере также показывается элемент заметки, добавляемый **EntityType** элемент.

``` xml
 <EntityType Name="Orders" xmlns:c="http://CustomNamespace">
   <Key>
     <PropertyRef Name="OrderId" />
   </Key>
   <Property Name="OrderId" Type="int" Nullable="false"
             c:CustomAttribute="someValue"/>
   <Property Name="ProductId" Type="int" Nullable="false" />
   <Property Name="Quantity" Type="int" Nullable="false" />
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <c:CustomElement>
     Custom data here.
   </c:CustomElement>
 </EntityType>
```

## <a name="annotation-elements-ssdl"></a>Элементы Annotation (SSDL)

Элементы annotation в языке SSDL представляют собой настраиваемые элементы XML в модели хранения, которые содержат дополнительные метаданные о модели хранения. Элементы annotation должны не только иметь верную структуру XML, но и соответствовать следующим ограничениям.

-   Элементы annotation не должны находиться в каком-либо пространстве имен XML, которое зарезервировано для языка SSDL.
-   Полные имена любых двух элементов annotation не должны совпадать.
-   Элементы annotation должны находиться после всех остальных дочерних элементов в данном элементе SSDL.

У данного элемента языка SSDL может быть больше одного дочернего элемента annotation. Начиная с .NET Framework версии 4, метаданные, содержащиеся в элементах annotation может осуществляться во время выполнения с помощью классов в пространстве имен System.Data.Metadata.Edm.

### <a name="example"></a>Пример

В следующем примере показано элемент EntityType с элементом annotation (**CustomElement**). В примере также показано атрибут annotation применяется к **OrderId** свойство.

``` xml
 <EntityType Name="Orders" xmlns:c="http://CustomNamespace">
   <Key>
     <PropertyRef Name="OrderId" />
   </Key>
   <Property Name="OrderId" Type="int" Nullable="false"
             c:CustomAttribute="someValue"/>
   <Property Name="ProductId" Type="int" Nullable="false" />
   <Property Name="Quantity" Type="int" Nullable="false" />
   <Property Name="CustomerId" Type="int" Nullable="false" />
   <c:CustomElement>
     Custom data here.
   </c:CustomElement>
 </EntityType>
```

## <a name="facets-ssdl"></a>Аспекты (модель SSDL)

Аспекты в языке определения схемы хранения (SSDL) представляют ограничения для типов столбцов, которые указаны в свойств элементов. Аспекты реализуются как атрибуты XML на **свойство** элементов.

В следующей таблице описываются аспекты, поддерживаемые в SSDL.

| Аспект           | Описание                                                                                                                                                                                                                                                 |
|:----------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Параметры сортировки**   | Задает последовательность сортировки, которая будет использоваться при выполнении операций сравнения и упорядочивания для значений свойств.                                                                                                             |
| **FixedLength** | Указывает, может ли изменяться длина значения столбца.                                                                                                                                                                                                  |
| **MaxLength**   | Указывает максимальную длину значения столбца.                                                                                                                                                                                                           |
| **Точность**   | Для свойств типа **десятичное**, количество десятичных разрядов, может иметь значение свойства. Для свойств типа **время**, **DateTime**, и **DateTimeOffset**, указывает количество цифр дробной части секунд значения столбца. |
| **Масштаб**       | Задает число цифр справа от десятичной запятой в значении столбца.                                                                                                                                                                      |
| **Юникод**     | Указывает, будет ли значение столбца храниться в Юникоде.                                                                                                                                                                                                    |
