---
title: Консоль диспетчера пакетов (Visual Studio) — EF Core
author: bricelam
ms.author: bricelam
ms.date: 11/06/2017
ms.openlocfilehash: 3d57a1665da2c94c55981d17e041b0ef74282496
ms.sourcegitcommit: 2b787009fd5be5627f1189ee396e708cd130e07b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2018
ms.locfileid: "45490858"
---
<a name="ef-core-package-manager-console-tools"></a>Инструменты консоли диспетчера пакетов EF Core
=====================================
Инструменты консоли диспетчера пакетов (PMC) Core EF работать внутри Visual Studio с помощью NuGet [консоль диспетчера пакетов][2].
Эти инструменты совместимы с проектами .NET Framework и .NET Core.

> [!TIP]
> Не используете Visual Studio? [Инструменты командной строки EF Core] [ 1] кросс платформенные и выполнения в командной строке.

<a name="installing-the-tools"></a>Установка инструментов
--------------------
Установите инструменты консоли диспетчера пакетов EF Core путем установки пакета Microsoft.EntityFrameworkCore.Tools NuGet.
Его можно установить, выполнив следующую команду в [консоль диспетчера пакетов][2].

``` powershell
Install-Package Microsoft.EntityFrameworkCore.Tools
```

Если все работает правильно, вы сможете выполните следующую команду:

``` powershell
Get-Help about_EntityFrameworkCore
```
> [!TIP]
> Если ваш запускаемый проект предназначен для .NET Standard [переориентироваться на поддерживаемых framework] [ 3] перед использованием средства.

> [!IMPORTANT]
> Если вы используете **универсальной Windows** или **Xamarin**, переместите свой код EF библиотеку классов .NET Standard и [переориентироваться на поддерживаемых framework] [ 3] перед использованием средства. Укажите библиотеку класса как запускаемый проект.

<a name="using-the-tools"></a>С помощью средств
---------------
При каждом вызове команды состоит из двух проектов:

Целевой проект служит для добавления всех файлов (в некоторых случаях они удаляются из него). По умолчанию в целевой проект **проект по умолчанию** выбранный в консоли диспетчера пакетов, но также можно задать с помощью параметра - проекта.

Запускаемый проект эмулируется инструментами при выполнении кода проекта. По умолчанию используется один **Назначить запускаемым проектом** в обозревателе решений. Он может также быть указан с помощью параметра - StartupProject.

Общие параметры:

|                           |                             |
|:--------------------------|:----------------------------|
| -Контексте \<строка >        | DbContext для использования.       |
| — Проект \<строка >        | Проект для использования.         |
| -StartupProject \<строка > | Запускаемый проект для использования. |
| -Verbose                  | Показать подробные выходные данные.        |

Чтобы отобразить справочные сведения о команде, используйте PowerShell `Get-Help` команды.

> [!TIP]
> Параметры контекста, проекта и StartupProject поддерживает расширение функций клавиши tab.

> [!TIP]
> Задайте **env:ASPNETCORE_ENVIRONMENT** перед запуском для указания среды ASP.NET Core.

<a name="commands"></a>Команды
--------

### <a name="add-migration"></a>Add-Migration

Добавление новой миграции.

Параметры:

|                                   |                                                                                                                  |
|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------|
| ***-Name*** \<строка >             | Имя миграции.                                                                                       |
| <nobr>-OutputDir \<строка ></nobr> | Каталог (и sub-namespace) для использования. Пути задаются относительно каталога проекта. По умолчанию используется «Миграция». |

> [!NOTE]
> Параметры в **полужирным** являются обязательными и те, которые в *курсив* являются позиционными.

### <a name="drop-database"></a>DROP Database

Удаляет базу данных.

Параметры:

|         |                                                          |
|:--------|:---------------------------------------------------------|
| -WhatIf | Показать базу данных, которая будет удалена, но не удаляйте ее. |

### <a name="get-dbcontext"></a>Get-DbContext

Возвращает сведения о типе DbContext.

### <a name="remove-migration"></a>Remove-Migration

Удаление последней миграции.

Параметры:

|        |                                                              |
|:-------|:-------------------------------------------------------------|
| -Force | Отменить миграцию, если она была применена к базе данных. |

### <a name="scaffold-dbcontext"></a>Scaffold-DbContext

Формирует шаблоны DbContext и типов сущностей для базы данных.

Параметры:

|                                          |                                                                                                  |
|:-----------------------------------------|:-------------------------------------------------------------------------------------------------|
| <nobr>***-Connection*** \<строка ></nobr> | Строка подключения к базе данных.                                                           |
| ***-Поставщик*** \<строка >                | Используемый поставщик. (например, Microsoft.EntityFrameworkCore.SqlServer)                      |
| -OutputDir \<строка >                     | Чтобы поместить файлы каталог. Пути задаются относительно каталога проекта.                      |
| -ContextDir \<строка >                    | Поместите файл DbContext в каталог. Пути задаются относительно каталога проекта.             |
| -Контексте \<строка >                       | Имя для формирования DbContext.                                                           |
| -Схемы \<String [] >                     | Схемы таблиц для создания типов сущности для.                                              |
| -Таблицы \<String [] >                      | Для создания типов сущности для таблиц.                                                         |
| -DataAnnotations                         | Атрибуты можно используйте для настройки модели (где это возможно). Если этот параметр опущен, используется только текучего API. |
| -UseDatabaseNames                        | Используйте имена таблиц и столбцов непосредственно из базы данных.                                           |
| -Force                                   | Перезаписывайте существующие файлы.                                                                        |

### <a name="script-migration"></a>Миграция скриптов

Формирует скрипт SQL из миграции.

Параметры:

|                   |                                                                    |
|:------------------|:-------------------------------------------------------------------|
| *-Из* \<строка > | Начала миграции. По умолчанию равно 0 (исходной базы данных).      |
| *-* \<Строка >   | Окончания миграции. По умолчанию к последней миграции.              |
| -Идемпотентными       | Создайте скрипт, который может использоваться в любой базе данных с любой миграции. |
| -Выходной \<строка > | Файл для записи результата.                                   |

> [!TIP]
> To, From, и выходные параметры поддерживают расширение функций клавиши tab.

### <a name="update-database"></a>Обновления базы данных

|                                     |                                                                                                |
|:------------------------------------|:-----------------------------------------------------------------------------------------------|
| <nobr>*-Миграции* \<строка ></nobr> | Целевой объект миграции. Если значение равно "0", всех операций переноса будут отменены. По умолчанию к последней миграции. |

> [!TIP]
> Параметр миграции поддерживает расширение функций клавиши tab.


  [1]: dotnet.md
  [2]: https://docs.microsoft.com/nuget/tools/package-manager-console
  [3]: index.md#frameworks
