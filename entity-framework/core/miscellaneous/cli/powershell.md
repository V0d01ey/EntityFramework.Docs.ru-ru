---
title: Консоль диспетчера пакетов (Visual Studio) - EF Core
author: bricelam
ms.author: bricelam
ms.date: 11/6/2017
ms.technology: entity-framework-core
ms.openlocfilehash: a53455a78db4bc504c45abafdacf9a15381f608e
ms.sourcegitcommit: 507a40ed050fee957bcf8cf05f6e0ec8a3b1a363
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
<a name="ef-core-package-manager-console-tools"></a>Средства консоли диспетчера пакетов EF Core
=====================================
Средства EF основных компонентов пакета диспетчера консоли (PMC) выполняются внутри Visual Studio с помощью NuGet [консоль диспетчера пакетов][2].
Эти инструменты совместимы с проектами .NET Framework и .NET Core.

> [!TIP]
> Не используете Visual Studio? [EF основные инструменты командной строки] [ 1] являются между различными платформами и работают в командную строку.

<a name="installing-the-tools"></a>Установка инструментов
--------------------
Установите средства консоли диспетчера пакетов Core EF путем установки пакета Microsoft.EntityFrameworkCore.Tools NuGet.
Можно установить его, выполнив следующую команду в [консоль диспетчера пакетов][2].

``` powershell
Install-Package Microsoft.EntityFrameworkCore.Tools
```

Если все работает правильно, можно выполнить эту команду:

``` powershell
Get-Help about_EntityFrameworkCore
```
> [!TIP]
> Если автоматически запускаемый проект предназначен для .NET Standard [кросс целевой поддерживаемых платформ] [ 3] перед использованием средства.

> [!IMPORTANT]
> Если вы используете **универсальных приложений Windows** или **Xamarin**, переместите свой код EF в библиотеке классов .NET Standard и [кросс целевой поддерживаемых платформ] [ 3] перед использованием средства. Укажите в качестве запускаемого проекта библиотеки классов.

<a name="using-the-tools"></a>С помощью средств
---------------
При каждом вызове команды состоит из двух проектов:

Целевой проект служит для добавления всех файлов (в некоторых случаях они удаляются из него). По умолчанию в целевой проект **проекта по умолчанию** выбранный в консоли диспетчера пакетов, но также можно задать с помощью параметра - проекта.

Запускаемый проект эмулируется инструментами при выполнении кода проекта. По умолчанию используется один **Назначить запускаемым проектом** в обозревателе решений. Он может также быть указан с помощью параметра - StartupProject.

Общие параметры:

|                           |                             |
|:--------------------------|:----------------------------|
| -Контекст \<строка >        | Чтобы использовать класс DbContext.       |
| -Проект \<строка >        | Проект для использования.         |
| -StartupProject \<строка > | Запускаемый проект для использования. |
| -Verbose                  | Показать подробные выходные данные.        |

Чтобы отобразить справку по команде, используйте PowerShell `Get-Help` команды.

> [!TIP]
> Параметры контекста, проекта и StartupProject поддерживает расширение по клавише tab.

> [!TIP]
> Задать **env:ASPNETCORE_ENVIRONMENT** перед запуском для указания среды ASP.NET Core.

<a name="commands"></a>Команды
--------

### <a name="add-migration"></a>Добавить миграции

Добавляет новую миграцию.

Параметры:

|                                   |                                                                                                                  |
|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------|
| ***-Имя*** \<строка >             | Имя миграции.                                                                                       |
| <nobr>-OutputDir \<строка ></nobr> | Каталог (и пространства имен sub) для использования. Пути задаются относительно каталога проекта. Значение по умолчанию «Миграция». |

> [!NOTE]
> Параметры в **полужирным** являются обязательными и версии в *курсив* являются позиционным.

### <a name="drop-database"></a>Удаление-базы данных

Удаляет базу данных.

Параметры:

|         |                                                          |
|:--------|:---------------------------------------------------------|
| -WhatIf | Показать базу данных, которая будет удалена, но не удалять его. |

### <a name="get-dbcontext"></a>Get-DbContext

Возвращает сведения о типе DbContext.

### <a name="remove-migration"></a>Удаление миграции

Удаляет последний переноса.

Параметры:

|        |                                                              |
|:-------|:-------------------------------------------------------------|
| -Force | Вернуть миграции, если он был применен к базе данных. |

### <a name="scaffold-dbcontext"></a>DbContext формирования шаблонов

Закрепление типы DbContext и сущности, для базы данных.

Параметры:

|                                          |                                                                                                  |
|:-----------------------------------------|:-------------------------------------------------------------------------------------------------|
| <nobr>***-Подключения*** \<строка ></nobr> | Строка подключения к базе данных.                                                           |
| ***-Поставщик*** \<строка >                | Поставщик для использования. (Например: Microsoft.EntityFrameworkCore.SqlServer)                              |
| -OutputDir \<строка >                     | Чтобы поместить файлы в каталог. Пути задаются относительно каталога проекта.                      |
| -ContextDir \<строка >                    | Помещение DbContext файла в каталог. Пути задаются относительно каталога проекта.             |
| -Контекст \<строка >                       | Имя DbContext для создания.                                                           |
| -Схемы \<String [] >                     | Схемы таблиц для создания типов сущностей для.                                              |
| -Таблицы \<String [] >                      | Таблицы для создания типов сущностей для.                                                         |
| -DataAnnotations                         | Атрибуты можно используйте для настройки модели (где это возможно). Если этот параметр опущен, используется только fluent API. |
| -UseDatabaseNames                        | Используйте имена таблиц и столбцов непосредственно из базы данных.                                           |
| -Force                                   | Перезаписывайте существующие файлы.                                                                        |

### <a name="script-migration"></a>Миграция скриптов

Формирует скрипт SQL из миграции.

Параметры:

|                   |                                                                    |
|:------------------|:-------------------------------------------------------------------|
| *-Из* \<строка > | Начальный миграции. По умолчанию равно 0 (начальной базы данных).      |
| *-* \<Строка >   | Окончания миграции. По умолчанию последней миграции.              |
| -Идемпотентными       | Создание скрипта, который можно использовать для базы данных на любой миграции. |
| -Output \<строка > | Файл для записи результата.                                   |

> [!TIP]
> To, From, и выходные параметры поддержки расширение по клавише tab.

### <a name="update-database"></a>Update-Database

|                                     |                                                                                                |
|:------------------------------------|:-----------------------------------------------------------------------------------------------|
| <nobr>*-Миграция* \<строка ></nobr> | Целевая миграция. Если значение равно "0", всех операций переноса будут отменены. По умолчанию последней миграции. |

> [!TIP]
> Параметр миграции поддерживает расширение по клавише tab.


  [1]: dotnet.md
  [2]: https://docs.microsoft.com/nuget/tools/package-manager-console
  [3]: index.md#frameworks
