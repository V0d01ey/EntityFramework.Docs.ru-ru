---
title: Миграция в командных средах — EF Core
author: bricelam
ms.author: bricelam
ms.date: 10/30/2017
ms.technology: entity-framework-core
ms.openlocfilehash: cf76df32099c25f33d5d94edf6bccec099cf714a
ms.sourcegitcommit: de491b0988eab91b84dcbd941b7551e597e9c051
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2018
ms.locfileid: "38228384"
---
<a name="migrations-in-team-environments"></a>Миграция в командных средах
===============================
При работе с Миграциями в командных средах, особое внимание с файлом моментального снимка модели. Этот файл может сообщить, если ваш коллега миграции четко объединяет с вашими или если вам требуется устранить конфликт, повторно создав миграции прежде чем использовать их.

<a name="merging"></a>слияние
-------
При миграции слияние от коллег, в файле моментального снимка модели может появиться конфликтов. Если оба изменения не связаны, слияние является тривиальным, и две операции миграции могут сосуществовать. Например можно получить конфликта слияния в конфигурации типа сущности customer, выглядит следующим образом:

    <<<<<<< Mine
    b.Property<bool>("Deactivated");
    =======
    b.Property<int>("LoyaltyPoints");
    >>>>>>> Theirs

Так как оба эти свойства должны существовать в конечной модели, Завершение слияния, добавив оба свойства. Во многих случаях системы управления версиями может автоматически объединить такие изменения автоматически.

``` csharp
b.Property<bool>("Deactivated");
b.Property<int>("LoyaltyPoints");
```

В этих случаях миграции и миграции ваш коллега независимы друг от друга. Так как сначала любого из них может применяться, не нужно вносить дополнительные изменения миграции перед предоставлением общего доступа со своей командой.

<a name="resolving-conflicts"></a>Разрешение конфликтов
-------------------
Иногда возникают true конфликтов при слиянии модель моментального снимка. Например вы и ваш партнер по группе каждого было изменено и то же свойство.

    <<<<<<< Mine
    b.Property<string>("Username");
    =======
    b.Property<string>("Alias");
    >>>>>>> Theirs

Если вы столкнулись с такого рода конфликт, устранить ее повторное создание миграции. Выполните следующие действия.

1. Отменить слияние "и" rollback в рабочий каталог до слияния
2. Удалить переход (но сохранить изменения модели)
3. Слияние изменений ваш коллега в рабочий каталог
4. Повторно добавить переход

После этого, две операции миграции могут применяться в правильном порядке. Миграцию применяется в первую очередь, переименование столбца *псевдоним*, после миграции переименовывает его, чтобы *Username*.

Миграцию можно безопасно использовать с остальными участниками команды.
